{"version":3,"file":"bundle.umd.js","sources":["src/utils.js"],"sourcesContent":["var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { Observable } from 'rxjs';\nexport var fetch = function (req, httpClient) {\n    var shouldUseBody = ['POST', 'PUT', 'PATCH'].indexOf(req.method.toUpperCase()) !== -1;\n    var shouldStringify = function (param) {\n        return ['variables', 'extensions'].indexOf(param.toLowerCase()) !== -1;\n    };\n    // `body` for some, `params` for others\n    var bodyOrParams = {};\n    if (req.body.length) {\n        if (!shouldUseBody) {\n            return new Observable(function (observer) {\n                return observer.error(new Error('Batching is not available for GET requests'));\n            });\n        }\n        bodyOrParams = {\n            body: req.body,\n        };\n    }\n    else {\n        if (shouldUseBody) {\n            bodyOrParams = {\n                body: req.body,\n            };\n        }\n        else {\n            Object.keys(req.body).forEach(function (param) {\n                if (shouldStringify(param.toLowerCase())) {\n                    req.body[param] = JSON.stringify(req.body[param]);\n                }\n            });\n            bodyOrParams = { params: req.body };\n        }\n    }\n    // create a request\n    return httpClient.request(req.method, req.url, __assign({ observe: 'response', responseType: 'json', reportProgress: false }, bodyOrParams, req.options));\n};\nexport var mergeHeaders = function (source, destination) {\n    if (source && destination) {\n        var merged = destination\n            .keys()\n            .reduce(function (headers, name) { return headers.set(name, destination.getAll(name)); }, source);\n        return merged;\n    }\n    return destination || source;\n};\nexport function prioritize() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    var picked = values.find(function (val) { return typeof val !== 'undefined'; });\n    if (typeof picked === 'undefined') {\n        return values[values.length - 1];\n    }\n    return picked;\n}\n//# sourceMappingURL=utils.js.map"],"names":["this","Observable"],"mappings":"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"}